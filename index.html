<!DOCTYPE html>
<html lang="en">
<head>
	<title>Shower Presentation Engine</title>
	<meta charset="utf-8">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="node_modules/shower-ribbon/styles/screen-16x10.css">
</head>
<body class="shower list">
	<header class="caption">
		<h1>–ù–∏–∑–∫–æ–∫–∞–ª–æ—Ä–∏–π–Ω–∞—è —Å–±–æ—Ä–∫–∞</h1>
		<p>–†–æ–º–∞–Ω –ü–∞—Ä–∞–¥–µ–µ–≤, –Ø–Ω–¥–µ–∫—Å</p>
	</header>
	<section class="slide" id="cover">
		<h2>–ù–∏–∑–∫–æ–∫–∞–ª–æ—Ä–∏–π–Ω–∞—è —Å–±–æ—Ä–∫–∞</h2>
		<p>–†–æ–º–∞–Ω –ü–∞—Ä–∞–¥–µ–µ–≤, –Ø–Ω–¥–µ–∫—Å</p>
		<style>
			#cover h2 {
				margin:160px 0 0;
				text-align:center;
				font-size:70px;
				}
			#cover p {
				margin:10px 0 0;
				text-align:center;
				font-style:italic;
				font-size:20px;
				}
				#cover p a {
					color:#FFF;
					}
		</style>
	</section>

	<section class="slide">
		<h2 class="shout">–°–±–æ—Ä–∫–∞</h2>
	</section>

	<section class="slide" id="bundle">
		<p>üìù üìù üìù üìù üìù</p>
		<p>‚è¨</p>
		<p>üìù</p>
		<style>
			#bundle p {
			    font-size: 2em;
			    text-align: center;
			}
		</style>
	</section>

	<section class="slide">
		<h2>–¶–µ–ª–∏ —Å–±–æ—Ä–∫–∏</h2>
		<ul>
			<li>–º–µ–Ω—å—à–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ —Å–µ—Ä–≤–µ—Ä—É</li>
			<li>–±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ —Å–∂–∞—Ç–∏–µ</li>
			<li>...</li>
		</ul>
		<p>–í –∏—Ç–æ–≥–µ: –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã</p>
	</section>

	<section class="slide">
		<h2>ES6 Modules: –ò—Å—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã</h2>
		<p class="double">
			<pre>
			<code><mark class="comment">// index.js</mark></code>
			<code class="mark">import { square } from './maths.js';</code>
			<code>var result = square(-2);</code>
			<code><mark class="comment">// maths.js</mark></code>
			<code><mark>export</mark> function square(x) {</code>
			<code>	return x * x;</code>
			<code>}</code>
		</p>
	</section>

	<section class="slide">
		<h2>ES6 Modules: –ò—Ç–æ–≥–æ–≤—ã–π –±–∞–Ω–¥–ª</h2>
		<p class="double">
			<pre>
			<code><mark class="comment">// bundle.js</mark> </code>
			<code>function square(x) {</code>
			<code>	return x * x;</code>
			<code>}</code>
			<code>var result = square(-2);</code>
			</pre>
		</p>
	</section>

	<section class="slide">
		<h2 class="shout">
			<a href="https://webpack.github.io/">webpack</a>
		</h2>
	</section>

	<section class="slide code-shout">
		<style>
			.code-shout code {
				font-size: 2em;
				margin-top: 20vh;
			}
		</style>
		<pre>
			<code>webpack index.js bundle.js</code>
		</pre>
	</section>

	<section class="slide">
		<h2>–ü—Ä–æ–±–ª–µ–º–∞ —Ä–∞–∑–¥—É—Ç—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫</h2>
		<p class="double">
			<pre>
			<code><mark class="comment">// maths.js</mark></code>
			<code><mark>export</mark> function square(x) {</code>
			<code>	return x * x;</code>
			<code>}</code>
			<code><mark>export</mark> function cube(x) {</code>
			<code>	return x * x * x;</code>
			<code>}</code>
		</p>
	</section>

	<section class="slide">
		<h2>–ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∫–æ–¥ –≤ —Å–±–æ—Ä–∫–µ</h2>
		<p class="double">
			<pre>
			<code><mark class="comment">// bundle.js</mark> </code>
			<code>function square(x) {</code>
			<code>	return x * x;</code>
			<code>}</code>
			<code>function cube(x) {</code>
			<code>	return x * x * x;</code>
			<code>}</code>
			<code>var result = square(-2);</code>
			</pre>
		</p>
	</section>

	<section class="slide">
		<h2 class="shout">–í—Å—ë –∏–ª–∏ –Ω–∏—á–µ–≥–æ</h2>
	</section>

	<section class="slide">
		<h2>–ü–æ–¥–∫–ª—é—á–∞–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫—É</h2>
		<pre>
		<code><mark class="comment">// index.js</mark></code>
		<code>import { <mark>isArray</mark> } from '<mark class="important">./jQuery.js</mark>';</code>
		<code>console.log(isArray([]));</code>
		</pre>
	</section>

	<section class="slide">
		<h2>–†–∞–∑–º–µ—Ä —Å–±–æ—Ä–∫–∏ —Å –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π</h2>
		<ul>
			<li>index.js ‚Äì 63 B</li>
			<li>jQuery ‚Äì 294 KB</li>
			<li class="next">bundle.js ‚Äì <mark>294 –öB</mark></li>
		</ul>
		<p class="next">–ß—Ç–æ –¥–µ–ª–∞—Ç—å?</p>
	</section>

	<section class="slide">
		<h2 class="shout">–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ —Å–±–æ—Ä–∫–∏</h2>
	</section>

	<section class="slide">
		<img src="./pictures/customBundle.png" class="cover">
	</section>

	<section class="slide">
		<h2>–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ —Å–±–æ—Ä–∫–∏</h2>
		<ul>
			<li>+ –≥–æ—Ç–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ</li>
			<li>- –µ—Å—Ç—å –Ω–µ —É –≤—Å–µ—Ö –≤–µ–Ω–¥–æ—Ä–æ–≤</li>
			<li>- –ø–ª–æ—Ö–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è –≤ —Å–±–æ—Ä–∫—É</li>
		</ul>
	</section>

	<section class="slide">
		<h2>–î–µ–ª–∞–µ–º —Å–±–æ—Ä–∫—É —Å–∞–º–∏</h2>
		<ul>
			<li>–°—Ç—Ä–æ–∏–º —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–æ–µ –¥–µ—Ä–µ–≤–æ (AST)</li>
			<li>–í—ã–±–æ—Ä–æ—á–Ω–æ —É–¥–∞–ª—è–µ–º —É–∑–ª—ã –¥–µ—Ä–µ–≤–∞</li>
			<li>–ù–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ –¥–µ—Ä–µ–≤–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∫–æ–¥</li>
		</ul>
	</section>

	<section class="slide">
		<h2 class="shout">AST</h2>
	</section>

	<section class="slide">
		<pre>
		<code>number = 42;</code>
		</pre>
	</section>

	<section class="slide">
		<pre>
		<code><mark>number = 42;</mark></code>
		</pre>

		<ul>
			<li>ExpressionStatement</li>
		</ul>
	</section>

	<section class="slide">
		<pre>
		<code><mark>number = 42</mark>;</code>
		</pre>
		<ul>
			<li>ExpressionStatement</li>
			<ul>
				<li>AssignmentExpression</li>
			</ul>
		</ul>
	</section>

	<section class="slide">
		<pre>
		<code><mark>number</mark> = 42;</code>
		</pre>
		<ul>
			<li>ExpressionStatement</li>
			<ul>
				<li>AssignmentExpression</li>
				<ul>
					<li>left: Identifier</li>
				</ul>
			</ul>
		</ul>
	</section>

	<section class="slide">
		<pre>
		<code>number = <mark>42</mark>;</code>
		</pre>
		<ul>
			<li>ExpressionStatement</li>
			<ul>
				<li>AssignmentExpression</li>
				<ul>
					<li>left: Identifier</li>
					<li>right: Literal</li>
				</ul>
			</ul>
		</ul>
	</section>

	<section class="slide">
		<h2 class="shout"><a href="https://astexplorer.net/">astexplorer.net</a></h2>
	</section>

	<section class="slide">
		<h2>–í—ã—Ä–µ–∂–µ–º –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—É—é —Ñ—É–Ω–∫—Ü–∏—é</h2>
		<pre>
		<code>export function square(x) {</code>
		<code>	return x * x;</code>
		<code>}</code>
		<code><mark>export function cube(x) {</mark></code>
		<code><mark>	return x * x * x;</mark></code>
		<code><mark>}</mark></code>
		</pre>
	</section>

	<section class="slide">
		<h2>1. –ü–∞—Ä—Å–∏–Ω–≥ –∫–æ–¥–∞</h2>
		<pre>
		<code>var read = require('fs').readFileSync;</code>
		<code>var esprima = reqiure('esprima');</code>
		<code class="next">var code = <mark>read</mark>('./src.js');</code>
		<code class="next">var <mark class="important">syntax</mark> = <mark>esprima</mark>.parse(code);</code>
		</pre>
	</section>

	<section class="slide">
		<h2>2. –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–µ—Ä–µ–≤–∞</h2>
		<pre>
		<code>export function square(x) { ... }</code>
		<code>export function cube(x) { ... }</code>
		</pre>
		<pre>
		<code><mark>delete</mark> syntax<span class="next">.body<span class="next">[1];</span></span></code>
		</pre>
	</section>

	<section class="slide">
		<h2>3. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞</h2>
		<pre>
		<code>var write = require('fs').writeFileSync;</code>
		<code>var escodegen = require('escodegen');</code>
		<code class="next">var <mark class="important">code</mark> = <mark>escodegen</mark>.generate(syntax);</code>
		<code class="next"><mark>write</mark>('./dst.js', code);</code>
		</pre>
	</section>

	<div class="slide">
		<h2>–†–µ–∑—É–ª—å—Ç–∞—Ç</h2>
		<pre>
		<code><mark class="comment">// maths.js</mark></code>
		<code>export function square(x) {</code>
		<code>	return x * x;</code>
		<code>}</code>
		</pre>
	</div>

	<section class="slide">
		<h2>–°–æ–±—Å—Ç–≤–µ–Ω–Ω–∞—è —Å–±–æ—Ä–∫–∞</h2>
		<ul>
			<li>+ –≥–∏–±–∫–æ—Å—Ç—å</li>
			<li>- —Ö—Ä—É–ø–∫–æ—Å—Ç—å</li>
		</ul>
	</section>

	<section class="slide">
		<h2 class="shout">–ú–∏–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è</h2>
	</section>

	<section class="slide">
		<h2 class="shout">
			<a href="http://lisperator.net/uglifyjs/">uglify.js</a>
		</h2>
	</section>

	<section class="slide">
		<h2>–£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç–∏–∂–∏–º–æ–≥–æ –∫–æ–¥–∞</h2>
		<pre>
		<code>var a = 1;</code>
 		<code> </code>
		<code>if (false) {</code>
		<code>	a = 2;</code>
		<code>}</code>
		</pre>
	</section>

	<section class="slide">
		<h2>–£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç–∏–∂–∏–º–æ–≥–æ –∫–æ–¥–∞</h2>
		<pre>
		<code>var a = 1;</code>
 		<code> </code>
		<code><mark>if (false) {</mark></code>
		<code><mark>	a = 2;</mark></code>
		<code><mark>}</mark></code>
		</pre>
	</section>

	<section class="slide">
		<h2>–£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç–∏–∂–∏–º–æ–≥–æ –∫–æ–¥–∞</h2>
		<pre>
		<code>var a = 1;</code>
		</pre>
	</section>

	<section class="slide">
		<h2>–ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —ç–∫—Å–ø–æ—Ä—Ç—ã</h2>
		<pre>
		<code><mark class="comment">// maths.js</mark></code>
		<code>export function square() { ... };</code>
		<code>export function cube() { ... };</code>
		<code><mark class="comment">// index.js</mark></code>
		<code><mark>import { square }</mark> from './maths.js';</code>
		<code>var result = square(-2);</code>
		</pre>
	</section>

	<section class="slide">
		<h2 class="shout">webpack2</h2>
	</section>

	<section class="slide">
		<h2>–ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —ç–∫—Å–ø–æ—Ä—Ç—ã</h2>
		<pre>
		<code><mark class="comment">// maths.js</mark></code>
		<code>export function square() { ... };</code>
		<code><mark>export</mark> function cube() { ... };</code>
		<code><mark class="comment">// index.js</mark></code>
		<code>import { square } from './maths.js';</code>
		<code>var result = square(-2);</code>
		</pre>
	</section>

	<section class="slide">
		<h2>–ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —ç–∫—Å–ø–æ—Ä—Ç—ã</h2>
		<pre>
		<code><mark class="comment">// maths.js</mark></code>
		<code>export function square() { ... };</code>
		<code><mark class="comment">/* export */</mark> function cube() { ... };</code>
		<code><mark class="comment">// index.js</mark></code>
		<code>import { square } from './maths.js';</code>
		<code>var result = square(-2);</code>
		</pre>
	</section>

	<section class="slide">
		<h2>–ú–∏–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è: –ø—Ä–µ–¥–µ–ª –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π</h2>
		<pre>
		<code><mark class="comment">// maths.js</mark></code>
		<code>export function square() { ... };</code>
		<code><mark>export</mark> function cube() { ... };</code>
		<code><mark class="important">cube.root</mark> = function () { ... };</code>
		</pre>
	</section>

	<section class="slide">
		<h2 class="shout">tree shaking</h2>
	</section>

	<section class="slide">
		<h2 class="shout">
			<a href="http://rollupjs.org/">rollup.js</a>
		</h2>
	</section>

	<section class="slide code-shout">
		<style>
			.code-shout code {
				font-size: 2em;
				margin-top: 20vh;
			}
		</style>
		<pre>
			<code>rollup index.js > bundle.js</code>
		</pre>
	</section>

	<section class="slide">
		<h2>tree shaking: –≤–∫–ª—é—á–µ–Ω–∏–µ —á–∞—Å—Ç–∏ –º–æ–¥—É–ª—è</h2>
		<pre>
		<code><mark class="comment">// maths.js</mark></code>
		<code><mark>export function square ( x ) { return x * x; }</mark></code>
		<code>export function cube ( x ) { return x * x * x; }</code>
		<code><mark class="comment">// main.js</mark></code>
		<code>import { cube } from './maths.js';</code>
		<code>cube( 5 );</code>
		</pre>
	</section>

	<section class="slide">
		<h2>tree shaking: –≤–∫–ª—é—á–µ–Ω–∏–µ —á–∞—Å—Ç–∏ –º–æ–¥—É–ª—è</h2>
		<pre>
		<code><mark class="comment">// bundle.js</mark></code>
		<code>function cube ( x ) { return x * x * x; }</code>
		<code>cube( 5 );</code>
		</pre>
	</section>

	<section class="slide">
		<h2>tree shaking: –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤–Ω—É—Ç—Ä–∏ –º–æ–¥—É–ª—è</h2>
		<pre>
		<code><mark class="comment">// maths.js</mark></code>
		<code>export function square ( x ) { return x * x; }</code>
		<code>export function cube ( x ) { return <mark>square(x)</mark> * x; }</code>
		<code><mark class="comment">// main.js</mark></code>
		<code>import { cube } from './maths.js';</code>
		<code>cube( 5 );</code>
		</pre>
	</section>

	<section class="slide">
		<h2>tree shaking: –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤–Ω—É—Ç—Ä–∏ –º–æ–¥—É–ª—è</h2>
		<pre>
		<code><mark class="comment">// bundle.js</mark></code>
		<code>function square ( x ) { return x * x; }</code>
		<code>function cube ( x ) { return square(x) * x; }</code>
		<code>cube( 5 );</code>
		</pre>
	</section>

	<section class="slide">
		<h2>tree shaking: –¥–æ—Å—Ç—É–ø –≤–Ω—É—Ç—Ä–∏ –º–æ–¥—É–ª—è</h2>
		<pre>
		<code><mark class="comment">// maths.js</mark></code>
		<code>export function square ( x ) { return x * x; }</code>
		<code>export function <mark>square.root</mark> ( x ) { return Math.sqrt(x); }</code>
		<code>export function cube ( x ) { return square(x) * x; }</code>
		<code><mark class="comment">// main.js</mark></code>
		<code>import { cube } from './maths.js';</code>
		<code>cube( 5 );</code>
		</pre>
	</section>

	<section class="slide">
		<h2>tree shaking: –¥–æ—Å—Ç—É–ø –≤–Ω—É—Ç—Ä–∏ –º–æ–¥—É–ª—è</h2>
		<pre>
		<code><mark class="comment">// bundle.js</mark></code>
		<code>function cube ( x ) { return x * x * x; }</code>
		<code>cube( 5 );</code>
		</pre>
	</section>

	<section class="slide">
		<h2>tree shaking</h2>
		<ul>
			<li>+ –±–æ–ª–µ–µ —É–º–Ω—ã–π –∞–Ω–∞–ª–∏–∑</li>
			<li>- —Ç–æ–ª—å–∫–æ ES6 modules</li>
		</ul>
	</section>

	<section class="slide">
		<h2>–£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –∫–æ–¥–∞</h2>
		<ul>
			<li>–í—Ä—É—á–Ω—É—é</li>
			<li>–ú–∏–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è</li>
			<li>tree-shaking</li>
		</ul>
	</section>

	<section class="slide">
		<h2>–ù–∏–∑–∫–æ–∫–∞–ª–æ—Ä–∏–π–Ω–∞—è —Å–±–æ—Ä–∫–∞</h2>
		<p>–†–æ–º–∞–Ω –ü–∞—Ä–∞–¥–µ–µ–≤, –Ø–Ω–¥–µ–∫—Å</p>
		<ul>
			<li>—Å–ª–∞–π–¥—ã ‚Äì <a href="https://github.com/sameoldmadness/fat-free-bundles-slides">https://github.com/sameoldmadness/fat-free-bundles-slides</a></li>
			<li>–¥–µ–º–æ ‚Äì <a href="https://github.com/sameoldmadness/fat-free-bundles-demo">https://github.com/sameoldmadness/fat-free-bundles-demo</a></li>
			<li>—Ä—É—á–Ω–∞—è —Å–±–æ—Ä–∫–∞ ‚Äì <a href="https://github.com/sameoldmadness/bh-custom">https://github.com/sameoldmadness/bh-custom</a></li>
			<li>rollup.js ‚Äì <a href="http://rollupjs.org/">http://rollupjs.org/</a></li>
			<li>webpack ‚Äì <a href="https://webpack.github.io/">https://webpack.github.io/</a></li>
		</ul>
	</section>

	<div class="progress"></div>
	<script src="node_modules/shower-core/shower.min.js"></script>
</body>
</html>
